# Class 18 Reading Notes

## Logging and Monitoring

### Resources

- [Introduction to AWS CloudWatch](https://www.citrusconsulting.com/introduction-to-aws-cloudwatch/)

### AWS CloudWatch

#### Introduction to AWS CloudWatch

- Service used for real-time monitoring AWS resources: EC2 instances, EBS, RDS, load balancer, lambda, Cognito, S3 and is also used to monitoring on-prem resources
- Collect and track matrices, monitor log files, and set alarms
- Automatically provides metrics for CPU utilization, latency, and request count
- Custom metrics can be monitored such as memory usage, error rates in a detailed manner
- Useful service for cronjob and automation purposes
- Dashboards are designed with a goal of providing better visibility when monitoring AWS resources across regions in a consolidated view

#### CloudWatch Events

- Allows users to consume a near real-time stream of events like changes to their AWS environment
- Triggers notification services like SNS, SMS, AWS services like Lambda, SSM, and Step function
- Monitors actions like an AWS service being launched or stopped/terminated and detect when an auto-scale happens
- Create custom role to trigger targeted AWS resources for automation purposes based on event, role, or time schedule

- Events:
  - Generated in four ways and is represented by the JSON script
    - From within AWS when the resource changes its state
    - Events are generated by API calls and console sign-ins that are delivered to Amazon CloudWatch Events via CloudTrail
    - When your own code can generate application-level events and publish them to Amazon CloudWatch Events for processing
    - Issued on a scheduled basis with oprtions for periodic or Cron-style scheduling

- Rules:
  - Match incoming events and route them to one or more targets or processings
  - No particular order for processing (all rules matching for an event will be processed)

- Targets:
  - Proces events and are specified within the rules
  - [Target types](https://citrusweb-media.s3.eu-west-1.amazonaws.com/wp-content/uploads/2020/07/23055353/aws-cloudwatch-target-types.png)

#### CloudWatch Agent

- Configured on the EC2 instances to send Custom Metrics to CloudWatch
- Supports multiple OS: Amazon Linux, CentOS, Red hat, Windows Server (2008 onwards), Debian, Ubuntu OS
- [CloudWatch Agent AWS Download Link](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/download-cloudwatch-agent-commandline.html)

#### CloudWatch Alarm

- Created based on target CloudWatch metric or the result of a math expression based on CLoudWatch metrics
- Performs one or multiple actions based on metric value or specified matrices condition reached a threshold over several time periods

#### Stream Amazon CloudWatch Logs to a Centralized Account for Audit and Analysis

- Key component of enterprise multi-account environments is logging
- often required in large enterprise envronments for several reasons
- After enabling Anomaly detection for a metric, CloudWatch applies statistical and machine learning algorithms and that continuously analyze metrics of systems or application and determine normal baselines, and surface inconsistency with minimal user involvement
- Logs managed and provisioned withour extra purchases from witin you AWS account
- CloudWatch Anomaly Detection Capabilities:
  - Learn and model the expected behavior of a metric based on prior data
  - Calculate expected values and generates the Anomaly Detection band. This is based on a lower and an upper band metric generated by the model. Metric values that fall outside the predicted confidence band are considered anomalies
  - Enable you to create alarms based on the Anomaly Detection band and remediate detected anomalies
  - AWS API & CloudFormation support

## Things I want to know more about
